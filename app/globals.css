@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@font-face {
  font-family: "MicroExtendFLF-Bold";
  src: url("/fonts/MicroExtendFLF-Bold.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: "Electrolize";
  src: url("/fonts/Electrolize.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: "Barrel";
  src: url("/fonts/Barrel.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: "Minecraft";
  src: url("/fonts/Minecraft.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: "Blur Light";
  src: url("/fonts/Blur Light.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
}

/* CSS Variables for Dark Mode */
:root {
  --background: #554943;
  --foreground: #171717;
  --primary: #1a73e8; /* Primary color */
  --secondary: #fbbc05; /* Secondary color */
  --accent: #34d399; /* Accent color */
  /* Mobile header/footer height – same value for both, scales with viewport */
  --mobile-header-height: clamp(80px, 14vh, 120px);
}

/* Art expanded view: below header, no scroll */
.art-expanded-below-header {
  top: var(--mobile-header-height);
  left: 0;
  right: 0;
  width: 100%;
  height: calc(100vh - var(--mobile-header-height));
  overflow: hidden;
}
@media (min-width: 768px) {
  .art-expanded-below-header {
    top: 5rem;
    height: calc(100vh - 5rem);
  }
}

/* Inquire form: content always above footer, no scroll (mobile) */
.art-inquire-form-content {
  height: calc(100vh - var(--mobile-header-height) - 72px); /* reserve ~72px above browser chrome / footer */
  max-height: calc(100vh - var(--mobile-header-height) - 72px);
}
@supports (height: 100dvh) {
  .art-inquire-form-content {
    height: calc(100dvh - var(--mobile-header-height) - 72px);
    max-height: calc(100dvh - var(--mobile-header-height) - 72px);
  }
}
@media (min-width: 768px) {
  .art-inquire-form-content {
    height: calc(100vh - 5rem);
    max-height: calc(100vh - 5rem);
  }
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #554943;
    --foreground: #ededed;
    --primary: #2563eb; /* Adjusted for dark mode */
    --secondary: #facc15; /* Adjusted for dark mode */
    --accent: #22c55e; /* Adjusted for dark mode */
  }
}

/* Global Styles */
body {
  font-family: "Blur Light", sans-serif;
  @apply text-foreground bg-background;
  margin: 0;
  padding: 0;
  line-height: 1.6;
  overflow-x: hidden; /* Prevent horizontal scrolling issues */
}

/* Custom cursor (static image) – only when adaptive cursor is NOT active */
html:not([data-custom-cursor]) body,
html:not([data-custom-cursor]) *,
html:not([data-custom-cursor]) *::before,
html:not([data-custom-cursor]) *::after {
  cursor: url('/assets/cursorPlus.png'), auto !important;
}

html:not([data-custom-cursor]) .cursor-pointer,
html:not([data-custom-cursor]) .cursor-default,
html:not([data-custom-cursor]) .cursor-auto,
html:not([data-custom-cursor]) .cursor-move,
html:not([data-custom-cursor]) .cursor-grab,
html:not([data-custom-cursor]) .cursor-grabbing,
html:not([data-custom-cursor]) .cursor-text,
html:not([data-custom-cursor]) .cursor-wait,
html:not([data-custom-cursor]) .cursor-help,
html:not([data-custom-cursor]) .cursor-not-allowed,
html:not([data-custom-cursor]) .cursor-none {
  cursor: url('/assets/cursorPlus.png'), auto !important;
}

/* When adaptive cursor is active: hide native cursor so only one cursor shows */
html[data-custom-cursor],
html[data-custom-cursor] * {
  cursor: none !important;
}

/* Utility Classes for Headings */
h1, h2, h3, h4, h5, h6 {
  @apply font-bold text-foreground;
  margin: 0;
}

/* Links */
a {
  @apply text-primary underline;
  transition: color 0.3s ease-in-out;
}

/* Container Utility */
.container {
  @apply max-w-7xl mx-auto px-4;
}

/* Buttons */
button {
  @apply bg-primary text-white font-medium py-2 px-4 rounded  transition;
}

/* Default Reset for List Styles */
ul, ol {
  margin: 0;
  padding: 0;
  list-style: none;
}

/* Images */
img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Swiper Customization */
.swiper-container {
  @apply bg-transparent border-none p-0 m-0;
}

.swiper-slide {
  @apply shadow-none border-none;
}

.swiper-pagination {
  @apply p-0 m-0;
}

.swiper-pagination-bullet {
  @apply bg-secondary opacity-75;
}

.swiper-pagination-bullet-active {
  @apply bg-accent;
}

.swiper-button-next,
.swiper-button-prev {
  @apply text-primary hover:text-accent;
}

/* Fixes for Swiper Compatibility */
@supports (-webkit-appearance: none) {
  .swiper-container {
    /* Ensures cross-browser consistency */
    @apply w-full max-w-screen-lg mx-auto;
  }

  .swiper-slide img {
    @apply w-full h-auto object-cover; /* Ensure images render correctly on Chrome/Safari */
    transform: translate3d(0, 0, 0); /* Prevent flickering */
    -webkit-transform: translate3d(0, 0, 0); /* Safari fix */
    backface-visibility: hidden; /* Chrome/Safari rendering improvement */
  }
}

/* Additional Swiper Fixes for Edge Cases */
@media (max-width: 768px) {
  .swiper-container {
    @apply max-w-full;
  }
}

/* Debugging Overflow Issues */
html, body {
  overflow-x: hidden; /* Prevent potential overflow issues on smaller viewports */
}

/* Forms */
input, select, textarea {
  @apply border border-gray-300 rounded px-3 py-2 w-full;
}

input:focus, select:focus, textarea:focus {
  @apply outline-none border-primary ring-1 ring-primary;
}

/* Footer Customization for Mobile */
footer {
  @apply bg-gray-900 text-white py-6;
}

footer .container {
  @apply flex flex-col md:flex-row justify-between items-center gap-4;
}

footer p, footer h3 {
  @apply text-sm md:text-base;
}

@media (max-width: 768px) {
  footer {
    @apply py-4;
  }

  footer .container {
    @apply flex-col text-center;
  }

  footer h3 {
    @apply text-base font-medium;
  }

  footer p {
    @apply text-sm;
  }
}

/* Chrome-Specific Fixes for Carousel and Layout */
@media screen and (-webkit-min-device-pixel-ratio: 0) and (min-resolution: 0.001dpcm) {
  /* Specific to Chrome */
  .swiper-container {
    @apply w-full max-w-screen-lg mx-auto;
  }

  .swiper-slide img {
    @apply w-full h-auto object-cover; /* Chrome-specific adjustments */
    transform: translate3d(0, 0, 0);
    -webkit-transform: translate3d(0, 0, 0);
    backface-visibility: hidden; /* Smooth rendering */
  }
}

/* Film Strip Styles */
.film-strip {
  position: relative;
  width: 100%;
  height: 100%;
  background: #000;
  border: 2px solid #00ff00; /* Green outline */
  border-radius: 8px;
}

.film-frames {
  display: flex;
  height: 100%;
  position: relative;
}

.film-frame {
  flex: 0 0 25vw; /* Each frame takes 25% of viewport width */
  height: 100%;
  position: relative;
  border-right: 2px solid #00ff00; /* Green separator between frames */
  background: #1a1a1a;
}

.film-frame:last-child {
  border-right: none;
}

.frame-content {
  width: 100%;
  height: 100%;
  margin: 8px; /* Space for sprocket holes */
  background: #34373D;
  border-radius: 4px;
  overflow: hidden;
}

/* Sprocket Holes */
.film-strip::before,
.film-strip::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  height: 12px;
  background: repeating-linear-gradient(
    to right,
    transparent 0px,
    transparent 18px,
    #505050 18px,
    #505050 24px,
    transparent 24px,
    transparent 42px
  );
  z-index: 10;
}

.film-strip::before {
  top: 0;
}

.film-strip::after {
  bottom: 0;
}

/* Film Strip Numbers and Markings */
.film-frame:nth-child(1)::before {
  content: '2A';
  position: absolute;
  bottom: 4px;
  left: 8px;
  color: white;
  font-size: 10px;
  font-weight: bold;
  z-index: 15;
}

.film-frame:nth-child(2)::before {
  content: '3';
  position: absolute;
  bottom: 4px;
  left: 50%;
  transform: translateX(-50%);
  color: white;
  font-size: 10px;
  font-weight: bold;
  z-index: 15;
}

.film-frame:nth-child(3)::before {
  content: '3A';
  position: absolute;
  bottom: 4px;
  right: 8px;
  color: white;
  font-size: 10px;
  font-weight: bold;
  z-index: 15;
}

.film-frame:nth-child(4)::before {
  content: '4';
  position: absolute;
  bottom: 4px;
  right: 8px;
  color: white;
  font-size: 10px;
  font-weight: bold;
  z-index: 15;
}

/* Smooth scrolling */
.film-strip-container {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .film-frame {
    flex: 0 0 30vw; /* Larger frames on mobile */
  }
  
  .film-strip::before,
  .film-strip::after {
    height: 10px;
    background: repeating-linear-gradient(
      to right,
      transparent 0px,
      transparent 16px,
      #505050 16px,
      #505050 22px,
      transparent 22px,
      transparent 38px
    );
  }
}

/* Hide scrollbars for film strip */
.scrollbar-hide {
  -ms-overflow-style: none;  /* Internet Explorer 10+ */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar { 
  display: none;  /* Safari and Chrome */
}
